const schedule = require('node-schedule');
import { findFinishedAnalyses } from './FetchAnalyses';
import { findExpiredAnalyses } from './SubmitAnalyses';

export default function start() {
    // Check every 5 minutes if any analysis have been finished
    schedule.scheduleJob('*/5 * * * *', function () {
        console.log("Going to find finished analyses...");
        findFinishedAnalyses();
    });

    // Check every 30 days if any analysis is ready for submission
    schedule.scheduleJob('* */30 * * *', function () {
        console.log("Going to find expired analyses...");
        findExpiredAnalyses();
    });
};
