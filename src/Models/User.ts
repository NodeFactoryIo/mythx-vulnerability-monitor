import { Column, DataType, Model, Table, HasMany, PrimaryKey } from "sequelize-typescript";
import Contract from './Contract';

@Table({
    timestamps: true,
    tableName: "Users",
})
export default class User extends Model<User> {
    @PrimaryKey
    @Column
    public id: number;

    @Column({
        type: DataType.STRING,
        unique: true,
        validate: { isEmail: true }
    })
    public email: string;

    @Column({
        type: DataType.TEXT,
    })
    public accessToken: string;

    @Column({
        type: DataType.TEXT,
    })
    public refreshToken: string;

    @HasMany(() => Contract)
    contracts: Contract[];
}
